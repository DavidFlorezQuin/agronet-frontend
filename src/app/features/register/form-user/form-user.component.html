<main class="d-flex justify-content-center align-items-center shadow-sm">

    <div class="card w-50 border p-5 my-5">

        <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
            <h3 class="text-center">Ingresa tu usuario</h3>
            <div class="mb-3">
                <label for="username" class="form-label">Usuario</label>
                <input type="text" class="form-control" id="username" name="username"
                    [(ngModel)]="newUser.username" required maxlength="15"  minlength="3" #username="ngModel" [ngClass]="{
                        'is-invalid': username.invalid && username.touched,
                        'is-valid': username.valid && username.touched
                      }" />
                     <!-- Mensajes de error -->
                     <div *ngIf="username.invalid && username.touched" class="invalid-feedback">
                       <div *ngIf="username.errors?.['required']">El Nombre del usuario es obligatorio.</div>
                       <div *ngIf="username.errors?.['minlength']">El Nombre del usuario debe tener al menos 3 caracteres.
                       </div>
                    </div>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Contrase√±a</label>
                <input type="text" class="form-control" id="password" name="password" [(ngModel)]="newUser.password"
                required maxlength="15"  minlength="3" (ngModelChange)="validatePassword()" #password="ngModel" [ngClass]="{
                    'is-invalid': (password.invalid && password.touched) || passwordError,
                  'is-valid': password.valid && password.touched && !passwordError
                     }"  />
                 <!-- Mensajes de error -->
                 <div *ngIf="password.invalid && password.touched" class="invalid-feedback">
                   <div *ngIf="password.errors?.['required']">El Nombre del usuario es obligatorio.</div>
                   <div *ngIf="password.errors?.['minlength']">El Nombre del usuario debe tener al menos 3 caracteres.
                   </div>
                 </div>
                 
                 <!-- Mensaje de error personalizado -->
                 <div *ngIf="passwordError" class="text-danger">
                   {{ passwordError }}
                  </div>
            </div>
            <button type="submit" id="btn-forms" class="btn w-100 mt-4"
                [disabled]="!userForm.valid">Crear cuenta</button>
        </form>
    </div>
</main>