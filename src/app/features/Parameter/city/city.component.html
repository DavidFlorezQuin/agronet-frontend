<div class="container">
    <section class="d-flex justify-content-between my-3">
      <h1 class="fw-normal">Ciudades</h1>
      <button type="button" data-bs-toggle="modal" data-bs-target="#exampleModal" id="btn-forms" class="btn h-50"><i class="bi bi-plus-circle mx-2"></i>
        Agregar Ciudad</button>
    </section>
      <table datatable [dtOptions]="dtoptions" [dtTrigger]="dttrigger" class="table">
        <thead>
          <tr class="table-success">
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripcion</th>
            <th>País</th>
            <th>Acciones</th> <!-- Nueva columna para las acciones -->
    
          </tr>
        </thead>
        <tbody>
    
          <tr *ngFor="let item of cities; index as i">
            <td>{{ item.id }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.description }}</td>
            <td>{{ item.countryId }}</td>
            <td class="gap-3 d-flex">
                <i class="bi bi-pencil-square action-icon" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="onEdit(item)"></i>
                <i class="bi bi-trash action-icon" (click)="onDelete(item.id)"></i>
            </td>
          </tr>
    
        </tbody>
      </table>
    
    </div>
    
    
    
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fw-bold fs-4" id="text-green">Nueva ciudad</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="px-5" #roleForm="ngForm" (ngSubmit)="onSubmit(roleForm)">
              <div class="mb-3">
                <label for="name" id="text-green" class="fw-normal">Nombre</label>
                <input class="form-control" type="text" id="name" name="name" [(ngModel)]="newCity.name" required>
              </div>
            
              <div>
                <label for="description"  id="text-green" class="fw-normal">Descripción</label>
                <input class="form-control form-green" type="text" id="description" name="description" [(ngModel)]="newCity.description" required>
              </div>

              <div class="my-3">
                <label for="Modulo"  id="text-green"  class="fw-normal">Pais</label>
                <select class="form-select form-select-lg mb-3" [(ngModel)]="newCity.countryId" name="countryId" aria-label="Large select example">
                  <option selected>Selecciona un modulo</option>
                  <option *ngFor = "let country of countries" [value]="country.id">
                    {{ country.name }}
                  </option>
                </select>
              </div>
              <div class="modal-footer">
                <!-- <button class="btn btn-success mt-5" type="submit">{{ newRole.id ? 'Actualizar' : 'Guardar' }}</button> -->
                <button type="button"  type="submit" id="btn-forms" class="btn btn-form">{{ newCity.id ? 'Actualizar' : 'Guardar' }}</button>
              </div>
            </form>
            
          </div>
    
        </div>
      </div>
    </div>